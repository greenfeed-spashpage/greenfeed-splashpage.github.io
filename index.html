<!--
This sample web application provides a simple Click-Through Splash page for Cisco Meraki networks.
Usage:
* Configure your Cisco Meraki wireless network with a Click-through splash page.
* Configure the "Custom URL" to point to your webserver that is hosting this HTML file.
* Update the "Walled Garden" with the IP or Domain Name for your webserver and any supporting resources
* Add any additional logic to forward the form data to your preferred service. By default, a simple alert
displays the results of one form entry and then prints the Meraki provided parameters in the the footer. 

Sample URL received from Meraki to this page.
http://localhost:5000/?base_grant_url=https%3A%2F%2Fn143.network-auth.com%2Fsplash%2Fgrant&user_continue_url=http%3A%2F%2Fspeedof.me%2F&node_id=149624922840090&node_mac=88:15:44:60:1c:1a&gateway_id=149624922840090&client_ip=10.255.60.208&client_mac=f4:5c:89:9b:17:67


This is example was written by:
Cory Guynn
www.InternetOfLEGO.com
2016

LICENSE: MIT
"Have Fun!, use and abuse"
-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="./css/style.css">
    </head>
    <body>
      <center><img src="./img/wait.gif" width="50%"/></center>
      <script>
        // Parse paramaters
        var base_grant_url = decodeURIComponent(GetURLParameter("base_grant_url"));
        var user_continue_url = decodeURIComponent(GetURLParameter("user_continue_url"));
        var node_mac = GetURLParameter("node_mac");
        var client_ip = GetURLParameter("client_ip");
        var client_mac = GetURLParameter("client_mac");

        var loginUrl = base_grant_url+"?continue_url="+user_continue_url;

        // redirect browser to meraki auth URL.
        window.location.replace(loginUrl);
      </script>
    </body>
</html>